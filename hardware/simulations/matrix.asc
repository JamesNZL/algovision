Version 4
SHEET 1 1264 1300
WIRE -1104 -640 -1152 -640
WIRE -816 -640 -864 -640
WIRE 176 -640 128 -640
WIRE -1152 -528 -1152 -640
WIRE -864 -528 -864 -640
WIRE 128 -528 128 -640
WIRE -1152 -304 -1152 -448
WIRE -864 -304 -864 -448
WIRE 128 -304 128 -448
WIRE -832 32 -896 32
WIRE -256 32 -320 32
WIRE -496 144 -544 144
WIRE -1072 176 -1120 176
WIRE -896 432 -896 352
WIRE -320 432 -320 352
WIRE -816 704 -1056 704
WIRE -752 704 -816 704
WIRE -1056 736 -1056 704
WIRE -816 848 -816 704
WIRE -1056 864 -1056 816
WIRE -1056 864 -1120 864
WIRE -992 864 -1056 864
WIRE -864 864 -912 864
WIRE -816 1008 -816 944
WIRE -816 1152 -816 1072
FLAG -1120 176 Vshift
IOPIN -1120 176 In
FLAG -896 432 Idriver
IOPIN -896 432 Out
FLAG -1104 -640 Vled
IOPIN -1104 -640 Out
FLAG -1152 -304 0
FLAG -832 32 Vled
IOPIN -832 32 In
FLAG -816 -640 Vshift
IOPIN -816 -640 Out
FLAG -864 -304 0
FLAG 176 -640 Idriver
IOPIN 176 -640 In
FLAG 128 -304 0
FLAG -544 144 Vshift
IOPIN -544 144 In
FLAG -320 432 Idriver
IOPIN -320 432 Out
FLAG -256 32 Vled
IOPIN -256 32 In
FLAG -1120 864 Vshift
IOPIN -1120 864 In
FLAG -816 1152 Idriver
IOPIN -816 1152 Out
FLAG -752 704 Vled
IOPIN -752 704 In
FLAG -320 224 0
FLAG -368 144 0
FLAG -320 128 0
FLAG -896 224 0
FLAG -960 176 0
FLAG -896 128 0
SYMBOL res -1088 160 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL LED -912 288 R0
SYMATTR InstName D1
SYMBOL voltage -1152 -544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vled
SYMATTR Value {Vcc}
SYMBOL voltage -864 -544 R0
SYMATTR Value2 AC 1 0
SYMATTR SpiceLine Rser=35 Cpar=5p
SYMATTR InstName Vshift
SYMATTR Value PULSE({0.95*Vcc} {0.05*Vcc} 100u 10n 10n 794u 16.67m)
SYMBOL current 128 -528 R0
WINDOW 39 24 108 Left 2
SYMATTR SpiceLine load
SYMATTR InstName Idriver
SYMATTR Value PULSE(0 {channels*15m} 200u 30n 30n 1.6u 3.1u)
SYMATTR Value2 AC 1 0
SYMBOL pnp -960 224 M180
SYMATTR InstName Q1
SYMATTR Value 2SB1708
SYMBOL res -512 128 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL LED -336 288 R0
SYMATTR InstName D2
SYMBOL pmos -368 224 M180
SYMATTR InstName M1
SYMATTR Value IRF7205
SYMBOL res -1008 848 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL LED -832 1008 R0
SYMATTR InstName D3
SYMBOL pmos -864 944 M180
SYMATTR InstName M2
SYMATTR Value SIL2301-TP
SYMBOL res -1072 720 R0
SYMATTR InstName R4
SYMATTR Value 10k
TEXT -1248 -1120 Left 2 !.tran 0 1m 0 4n
TEXT -1248 -1248 Left 5 ;algovision
TEXT -1248 -1184 Left 4 ;JamesNZL
TEXT -1248 -800 Left 3 ;Sources, Signals, and Loads
TEXT -1248 -1056 Left 2 !.param Vcc = 5\n.param channels = 105
TEXT -1248 -128 Left 3 ;Current Amplifiers/Buffers
TEXT -1216 -32 Left 2 ;PNP Common Emitter
TEXT -1216 -704 Left 2 ;LED Supply
TEXT -928 -704 Left 2 ;Shift Register (Active LOW)
TEXT 64 -704 Left 2 ;LED Driver (Active LOW)
TEXT -640 -32 Left 2 ;PMOS Common Source
TEXT -1216 640 Left 2 ;Selected PMOS Common Source
TEXT -1248 -960 Left 2 !.model SIL2301-TP VDMOS(pchan Vto=-.7 Rg=1 Rd=16m Rs=18m Rb=350m Kp=4 Cgdmax=405p Cgdmin=55p Cgs=405p Cjo=.03n Is=3p ksubthres=.1 mfg=Micro_Commercial_Co Vds=-8 Ron=58m Qg=5.5n)
RECTANGLE Normal -704 576 -1248 -64 2
RECTANGLE Normal -992 -256 -1248 -736 2
RECTANGLE Normal 0 -256 -960 -736 2
RECTANGLE Normal 864 -256 32 -736 2
RECTANGLE Normal -128 576 -672 -64 2
RECTANGLE Normal -608 1296 -1248 608 2
