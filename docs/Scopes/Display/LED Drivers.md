#5e5ce6/projects 

# LED Drivers

  - For my LED drivers, I probably want a shift register topology so that I can drive them all from a single data line
> [!warning]
> I need to be careful as I am only using 21 channels per driver, such that the extra 3 channels must be `0` when shifting the data

- Also, if most SOP/QFP ICs still require/encourage the thermal solder pad to be soldered for heatsinking, I might as well consider a QFN/other no-lead packageâ€”as I will be unable to iron-solder in either case

- If the LED driver is handling all the power/brightness control, all my micro will need to do is write the information for the next row to the drivers, latch them, multiplex to the row, and wait until the next scan cycle before repeating
- This should be fairly straightforward?

| Part Number               | `TLC5955DCAR`                                                                                                 | `STP24DP05BTR`                                                                                                      | `LED2472GBTR`                                                                                                      | `TLC6C5724QDAPRQ1`                                                                                                 | `PCA9956BTWY`                                                                                              | `TLC5947DAPR`                                                                                                   | `TLC5951DAP`                                                                                                 | `TLC5952DAP`                                                                                                   |
| ------------------------- | ------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------- |
| Image                     | ![`TLC5955DCAR`](https://mm.digikey.com/Volume0/opasdata/d220001/medias/images/4235/296~4073259-3~DCA~56.JPG) | ![`STP24DP05BTR`](https://mm.digikey.com/Volume0/opasdata/d220001/medias/images/1279/497;48TQFP-EP-1.2-7x7;;48.jpg) | ![`LED2472GBTR`](https://mm.digikey.com/Volume0/opasdata/d220001/medias/images/1279/497;48TQFP-EP-1.2-7x7;;48.jpg) | ![`TLC6C5724QDAPRQ1`](https://mm.digikey.com/Volume0/opasdata/d220001/medias/images/2532/296;4073257-5;DAP;38.jpg) | ![`PCA9956BTWY`](https://mm.digikey.com/Volume0/opasdata/d220001/medias/images/1866/568;SOT1331-1;;38.jpg) | ![`TLC5947DAPR`](https://mm.digikey.com/Volume0/opasdata/d220001/medias/images/3515/296~4226056~DAP~32-Top.jpg) | ![`TLC5951DAP`](https://mm.digikey.com/Volume0/opasdata/d220001/medias/images/2532/296;4073257-5;DAP;38.jpg) | ![`TLC5952DAP`](https://mm.digikey.com/Volume0/opasdata/d220001/medias/images/3515/296~4226056~DAP~32-Top.jpg) |
| Supplier Link             | [DigiKey](https://www.digikey.co.nz/en/products/detail/texas-instruments/TLC5955DCAR/5181329)                 | [DigiKey](https://www.digikey.co.nz/en/products/detail/stmicroelectronics/STP24DP05BTR/1917117)                     | [DigiKey](https://www.digikey.co.nz/en/products/detail/stmicroelectronics/LED2472GBTR/4506353)                     | [DigiKey](https://www.digikey.co.nz/en/products/detail/texas-instruments/TLC6C5724QDAPRQ1/9608023)                 | [DigiKey](https://www.digikey.co.nz/en/products/detail/nxp-usa-inc/PCA9956BTWY/5361188)                    | [DigiKey](https://www.digikey.co.nz/en/products/detail/texas-instruments/TLC5947DAPR/2047743)                   | [DigiKey](https://www.digikey.co.nz/en/products/detail/texas-instruments/TLC5951DAP/2187574)                 | [DigiKey](https://www.digikey.co.nz/en/products/detail/texas-instruments/TLC5952DAP/2078405)                   |
| Input Pins                | 4                                                                                                             | 6                                                                                                                   | 4                                                                                                                  | 8                                                                                                                  | 8                                                                                                          | 5                                                                                                               | 10                                                                                                           | 5                                                                                                              |
| Package                   | `56-HTSSOP`                                                                                                   | `48-TQFP`                                                                                                           | `48-TQFP`                                                                                                          | `38-HTSSOP`                                                                                                        | `38-HTSSOP`                                                                                                | `32-HTSSOP`                                                                                                     | `38-HTSSOP`                                                                                                  | `32-HTSSOP`                                                                                                    |
| Pin Pitch                 | $0.5\,\text{mm}$                                                                                              | $0.5\,\text{mm}$                                                                                                    | $0.5\,\text{mm}$                                                                                                   | $0.65\,\text{mm}$                                                                                                  | $0.5\,\text{mm}$                                                                                           | $0.65\,\text{mm}$                                                                                               | $0.65\,\text{mm}$                                                                                            | $0.65\,\text{mm}$                                                                                              |
| Channels                  | 48                                                                                                            | 24                                                                                                                  | 24                                                                                                                 | 24                                                                                                                 | 24                                                                                                         | 24                                                                                                              | 24                                                                                                           | 24                                                                                                             |
| Protocol                  | Shift register                                                                                                | Shift register                                                                                                      | Shift register                                                                                                     | Shift register                                                                                                     | I2C                                                                                                        | Shift register                                                                                                  | Shift register                                                                                               | Shift register                                                                                                 |
| Dimming                   | Analogue global, PWM greyscale                                                                                | Output enable pins                                                                                                  | Output enable pins                                                                                                 | Analogue group, PWM greyscale                                                                                      | PWM greyscale, output enable pin                                                                           | PWM greyscale                                                                                                   | Analogue global, PWM greyscale                                                                               | Analogue global                                                                                                |
| Greyscale Resolution      | 16 bit                                                                                                        | -                                                                                                                   | 6 bit and external resistor                                                                                        | 12 bit                                                                                                             | 8 bit                                                                                                      | 12 bit                                                                                                          | 12 bit                                                                                                       | -                                                                                                              |
| Global Brightness Control | 7 bit                                                                                                         | External resistors                                                                                                  | External resistors                                                                                                 | 8 bit per group, external   resistors                                                                              | 8 bit                                                                                                      | External resistors                                                                                              | 8 bit, external resistors                                                                                    | 7 bit                                                                                                          |
| Voltage                   | $3\sim5.5\,\text{V}$                                                                                          | $3\sim5.5\,\text{V}$                                                                                                | $3\sim5.5\,\text{V}$                                                                                               | $3\sim5.5\,\text{V}$                                                                                               | $3\sim5.5\,\text{V}$                                                                                       | $3\sim5.5\,\text{V}$                                                                                            | $3\sim5.5\,\text{V}$                                                                                         | $3\sim5.5\,\text{V}$                                                                                           |
| Max Current per Channel   | $31.9\,\text{mA}$                                                                                             | $80\,\text{mA}$                                                                                                     | $72\,\text{mA}$                                                                                                    | $50\,\text{mA}$                                                                                                    | $57\,\text{mA}$                                                                                            | $30\,\text{mA}$                                                                                                 | $40\,\text{mA}$                                                                                              | $35\,\text{mA}$ RG, $26.2\,\text{mA}$ B                                                                        |
| Max GND Current           |                                                                                                               | $2\,\text{A}$                                                                                                       | $1.9\,\text{A}$                                                                                                    |                                                                                                                    | $2.5\,\text{A}$                                                                                            |                                                                                                                 |                                                                                                              |                                                                                                                |
| Max Frequency             | $25\,\text{MHz}$                                                                                              | $25\,\text{MHz}$                                                                                                    | $30\,\text{MHz}$                                                                                                   | $4\,\text{MHz}$                                                                                                    | $1\,\text{MHz}$                                                                                            | $15\,\text{MHz}$ cascaded                                                                                       | $30\,\text{MHz}$                                                                                             | $35\,\text{MHz}$                                                                                               |
| Cost (for 5)              | USD$29.90                                                                                                     | USD$15.60                                                                                                           | USD$15.80                                                                                                          | USD$17.65                                                                                                          | USD$18.40                                                                                                  | USD$19.45                                                                                                       | USD$21.90                                                                                                    |                                                                                                                |
| Remarks                   |                                                                                                               |                                                                                                                     |                                                                                                                    | Automotive                                                                                                         | Has internal oscillator                                                                                    | Has internal oscillator                                                                                         | Best so far                                                                                                  |                                                                                                                |

> [!success] Preferred Device
> The best device seems to be the [`TLC5951DAP`](https://www.digikey.co.nz/en/products/detail/texas-instruments/TLC5951DAP/2187574) due to its maximum output current and brightness/dimming controls/data frequency. If I find that $4\,\text{MHz}$ is sufficient for my data frequency, the [`TLC6C5724QDAPRQ1`](https://www.digikey.co.nz/en/products/detail/texas-instruments/TLC6C5724QDAPRQ1/9608023) may be the better choice (the lower speed may actually be desirable from an ease-of-implementation perspective).

- These selections give me the following matrix layout:
	 ![7-7-7-7-7 by 21 with parts](images/7-7-7-7-7-by-21-parts.png)

